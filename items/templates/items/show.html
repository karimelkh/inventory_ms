{% extends 'main/base.html' %}
{% load static %}
{% load custom_filters %}

{% block title %}
{{ item.ttl }}
{% endblock %}

{% block main %}
<section class="container mx-auto">
	<div class="mb-4 d-flex align-items-start justify-content-between gap-3 mb-5">
		<h1 class="fw-bold">
			<span>
				<a class="text-dark text-decoration-none" href="{% url 'items' %}">
					items
				</a>
				<span>&frasl;</span>
			</span>
			<br>
			<span>
				{{ item.ttl }}
			</span>
		</h1>
		{% if item.img %}
		<img class="zoom" src="{{ item.img.url }}" alt="" />
		{% endif %}
		<div class="d-flex justify-content-center gap-3">
			<button id="update-btn" type="button" class="btn btn-outline-primary"data-bs-toggle="offcanvas" data-bs-target="#sidebar" aria-controls="sidebar">
				<i class="fa-solid fa-pen-to-square"></i>
				<span>update</span>
			</button>
			<button class="btn btn-outline-danger" id="delete-btn" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebar" aria-controls="sidebar">
				<i class="fa-solid fa-trash-can"></i>
				<span>delete</span>
			</button>
		</div>
	</div>
	<table class="table table-striped table-hover table-bordered">
		<tbody>
			<tr>
				<th scope="row">id</th>
				<td>{{ item.id }}</td>
			</tr>
			<tr>
				<th scope="row">description</th>
				<td>{{ item.desc }}</td>
			</tr>
			<tr>
				<th scope="row">quantity</th>
				<td>{{ item.qty }}</td>
			</tr>
			<tr>
				<th scope="row">price</th>
				<td>{{ item.price }}</td>
			</tr>
			{% with total_price=item.price|multiply:item.qty %}
			<tr>
				<th scope="row">total price</th>
				<td>{{ total_price }}</td>
			</tr>
			{% endwith %}
			<tr>
				<th scope="row">currency</th>
				<td>{{ item.currency }}</td>
			</tr>
			<tr>
				<th scope="row">supplier</th>
				<td>{{ item.suppl.name }}</td>
			</tr>
			<tr>
				<th scope="row">site</th>
				<td>{{ item.site.name }}</td>
			</tr>
		</tbody>
	</table>
</section>
{% endblock %}
