{% load static %}
{% load livereload_tags %}

<!DOCTYPE html>
<html lang="en" class="dark">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link href="{% static 'css/styles.css' %}" rel="stylesheet">
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
		{% livereload_script %}
		<title>
			{% block title %}
			Inventory MS
			{% endblock %}
		</title>
	</head>
	<body class="font-['Poppins'] bg-gray-200 dark:bg-gray-700">
		{% block header %}
		<header class="mb-5 bg-white shadow">
			<div class="container mx-auto py-4 flex justify-between">
				<a href="#" class="duration-250 hover:text-red-500">
					<i class="fa-solid fa-boxes-stacked"></i>
				</a>
				<ul class="flex flex-col justify-center">
					<li class="w-full">
						<button class="w-20 flex items-center justify-between" id="tog-usermenu-btn">
							<i class="fa-solid fa-user"></i>
							<span class="text-sm font-bold">
								{{ username }}
							</span>
							<i class="fa-solid fa-caret-down"></i>
						</button>
					</li>
					<li id="usermenu-list" class="hidden">
						<ul class="absolute top-[60px] text-center bg-white rounded-md shadow">
							<li class="px-4 py-2 rounded-md duration-250 hover:bg-gray-200">
								<a href="#" class="flex items-center">
									<i class="fa-solid fa-gear w-3"></i>
									<span class="mx-4">settings</span>
								</a>
							</li>
							<li id="theme-switcher" class="px-4 py-2 rounded-md duration-250 hover:bg-gray-200">
								<a href="#" class="flex items-center">
									<i class="fa-solid fa-sun w-3" id="light-icon"></i>
									<span class="mx-4">theme</span>
								</a>
							</li>
							<li class="px-4 py-2 rounded-md duration-250 hover:bg-gray-200">
								<a href="#" class="flex items-center">
									<i class="fa-solid fa-right-from-bracket w-3"></i>
									<span class="mx-4">logout</span>
								</a>
							</li>
							<li class="px-4 py-2 rounded-md duration-250 hover:bg-gray-200">
								<a href="#" class="flex items-center">
									<i class="fa-regular fa-address-card w-3"></i>
									<span class="mx-4">profile</span>
								</a>
							</li>
						</ul>
					</li>
				</ul>
			</div>
		</header>
		{% endblock %}

		{% block main %}
		<section id="main-sec" class="grid grid-cols-[250px_1fr]">
			<button id="show-sidebar-btn" class="hidden w-[45px] h-10 left-0 top-[80px] absolute flex items-center justify-center bg-blue-300 text-blue-800 rounded-tr-full rounded-br-full duration-250 hover:bg-blue-400">
				<i class="fa-solid fa-right-long"></i>
			</button>
			{% block sidebar %}
			<aside id="sidebar" class="flex flex-col bg-gray-200 rounded-md shadow">
				<div class="px-5 flex items-center justify-between bg-gray-300">
					<span class="py-3 text-2xl font-bold">Browse</span>
					<button id="hide-sidebar-btn" class="p-1 round-full sctive:bg-gray-800">
						<i class="fa-regular fa-circle-xmark font-semibold duration-250 hover:text-red-700"></i>
					</button>
				</div>
				<ul class="w-full mb-5 mr-5 text-lg">
					<li class="py-4 pr-4 pl-5 border-b-2 border-gray-300 duration-250 hover:bg-gray-700 hover:text-gray-50">
						<a href="/items" class="w-full h-full flex items-center">
							<i class="fa-solid fa-cubes w-5"></i>
							<span class="mx-4 capitalize">items</span>
							<span class="w-6 h-5 flex items-center justify-center text-green-800 text-sm font-semibold rounded-lg bg-green-300">
								{{ items_count }}
							</span>
						</a>
					</li>
					<li class="py-4 pr-4 pl-5 border-b-2 border-gray-300 duration-250 hover:bg-gray-700 hover:text-gray-50">
						<a href="/items" class="w-full flex items-center">
							<i class="fa-solid fa-list"></i>
							<span class="mx-4 capitalize">categories</span>
							<span class="w-6 h-5 flex items-center justify-center text-green-800 text-sm font-semibold rounded-lg bg-green-300">
								{{ cats_count }}
							</span>
						</a>
					</li>
					<li class="py-4 pr-4 pl-5 border-b-2 border-gray-300 duration-250 hover:bg-gray-700 hover:text-gray-50">
						<a href="/suppliers" class="w-full flex items-center">
							<i class="fa-solid fa-building w-5"></i>
							<span class="mx-4 capitalize">suppliers</span>
							<span class="w-6 h-5 flex items-center justify-center text-green-800 text-sm font-semibold rounded-lg bg-green-300">
								{{ suppls_count }}
							</span>
						</a>
					</li>
					<li class="py-4 pr-4 pl-5 border-b-2 border-gray-300 duration-250 hover:bg-gray-700 hover:text-gray-50">
						<a href="/locations" class="w-full flex items-center">
							<i class="fa-solid fa-thumbtack w-5"></i>
							<span class="mx-4 capitalize">locations</span>
							<span class="w-6 h-5 flex items-center justify-center text-green-800 text-sm font-semibold rounded-lg bg-green-300">
								{{ locats_count }}
							</span>
						</a>
					</li>
					<li class="py-4 pr-4 pl-5 border-b-2 border-gray-300 duration-250 hover:bg-gray-700 hover:text-gray-50">
						<a href="/orders" class="w-full flex items-center">
							<i class="fa-solid fa-truck w-5"></i>
							<span class="mx-4 capitalize">orders</span>
							<span class="w-6 h-5 flex items-center justify-center text-green-800 text-sm font-semibold rounded-lg bg-green-300">
								{{ orders_count }}
							</span>
						</a>
					</li>
				</ul>
			</aside>
			{% endblock %}

			{% block content %}
			<main class="mx-20">
				{% block actions %}
				<section class="text-center">
					actions
				</section>
				{% endblock %}
				{% block table %}
				<section class="overflow-auto rounded-m shadow">
					<table class="w-full">
						<thead class="border-b-2 border-gray-200 bg-gray-50">
							<tr class="">
								<th class="w-20 p-3 text-sm font-semibold tracking-wide text-left">ID</th>
								<th class="w-24 p-3 text-sm font-semibold tracking-wide text-left">Title</th>
								<th class="p-3 text-sm font-semibold tracking-wide text-left">Description</th>
								<th class="w-24 p-3 text-sm font-semibold tracking-wide text-left">Quantity</th>
								<th class="w-20 p-3 text-sm font-semibold tracking-wide text-left">Supplier</th>
								<th class="w-20 p-3 text-sm font-semibold tracking-wide text-left">Category</th>
								<th class="w-20 p-3 text-sm font-semibold tracking-wide text-left">Location</th>
							</tr>
						</thead>
						<tbody class="divide-y devide-gray-200">
							{% for item in prod_data %}
							<tr class="{% cycle "bg-white" "bg-gray-100" %} hover:bg-gray-200 duration-250">
								<td class="p-3 text-sm text-gary-700 text-left">
									<a href="items/{{ item.id_prod }}" class="text-blue-500 font-bold hover:underline">{{ item.id_prod }}</a>
								</td>
								<td class="p-3 text-sm text-gary-700 text-left whitespace-nowrap">{{ item.prod_title }}</td>
								<td class="p-3 text-sm text-gary-700 text-left whitespace-nowrap">{{ item.prod_desc }}</td>
								<td class="p-3 text-sm text-gary-700 text-left whitespace-nowrap">{{ item.qty_in_stock }}</td>
								<td class="p-3 text-sm text-gary-700 text-left whitespace-nowrap">
									<a href="items/{{ item.suppl_id }}" class="text-blue-500 font-bold hover:underline">{{ item.suppl_id }}</a>
								</td>
								<td class="p-3 text-sm text-gary-700 text-left whitespace-nowrap">
									<a href="items/{{ item.cat_id }}" class="text-blue-500 font-bold hover:underline">{{ item.cat_id }}</a>
								</td>
								<td class="p-3 text-sm text-gary-700 text-left whitespace-nowrap">
									<a href="items/{{ item.locat_id }}" class="text-blue-500 font-bold hover:underline">{{ item.locat_id }}</a>
								</td>
							</tr>
							{% endfor %}
						</tbody>
					</table>
				</section>
				{% endblock %}
			</main>
			{% endblock %}
		</section>
		{% endblock %}

		<script src="{% static 'js/jquery.min.js' %}"></script>
		<script src="{% static 'js/main.js' %}"></script>
	</body>
</html>
